<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="css/pico.css">
  <script src="js/jquery.js"></script>
  <script>
    // Inject mockup Activity when running outside of app.
    var Activity;
    if (typeof Activity === "undefined") {
      Activity = {
        querySettings: function () {
          let mock_data = '[{"MockNode": {"MockParam1": 1, "MockParam2": false}}]';
          console.log("Querying...", JSON.parse(mock_data));
          return mock_data;
        },
        postSettings: function (json_string) {
          console.log("Posting...", JSON.parse(json_string));
          return;
        }
      };
    }
  </script>
  <title>Welcome!</title>
</head>

<body>
  <main>
    <!--
      <div class="grid">
        <a role="button" href="achromatopsia.html">Achromatopsia</a>
        <a role="button" href="ametropia.html">Ametropia</a>
        <a role="button" href="cataract.html">Cataract</a>
        <a role="button" href="color-blindness.html">Color Blindness</a>
        <a role="button" href="glaucoma.html">Glaucoma</a>
        <a role="button" href="macular-degeneration.html">Macular Degeneration</a>
        <a role="button" href="night-blindness.html">Night Blindness</a>
        <a role="button" href="presbyopia.html">Presbyopia</a>
      </div>
      -->
  </main>
  <script>
    const settings = JSON.parse(Activity.querySettings());
    const text = "JSON: \"" + JSON.stringify(settings) + "\"";
    let main = $("main");
    for (var flow of settings) {
      for (var nodeName in flow) {
        if (flow.hasOwnProperty(nodeName)) {
          $("main").append("<p>" + nodeName + "</p>");
          let node = flow[nodeName];
          for (var attributeName in node) {
            if (node.hasOwnProperty(attributeName)) {
              let attributeValue = node[attributeName];
              $("main").append("<p>" + attributeName + ": " + attributeValue + "</p>");
            }
          }
        }
      }
    };
  </script>
</body>

</html>